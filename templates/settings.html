{% extends "base.html" %}

{% block content %}
  <div class="card">
    <h2>{{ t('settings') }}</h2>
    <p class="helper-text">{{ t('settings_helper') }}</p>
  </div>

  <div class="card">
    <form method="post">
      {% for field in fields %}
        <div style="margin-bottom: 16px;">
          <label for="{{ field.key }}">{{ field.label }}</label>
          {% if field.type == "select" %}
            <select id="{{ field.key }}" name="{{ field.key }}" class="settings-input">
              {% for option in field.options %}
                <option value="{{ option }}" {% if values[field.key] == option %}selected{% endif %}>{{ option }}</option>
              {% endfor %}
            </select>
          {% elif field.type == "checkbox" %}
            <input type="checkbox" id="{{ field.key }}" name="{{ field.key }}" value="1" {% if values[field.key] in ["1", "true", "yes", "on"] %}checked{% endif %} />
          {% else %}
            <input
              type="{{ field.type }}"
              id="{{ field.key }}"
              name="{{ field.key }}"
              value="{{ values[field.key] }}"
              class="settings-input"
            />
          {% endif %}
          {% if field.help %}
            <div class="dropzone-hint">{{ field.help }}</div>
          {% endif %}
          {% if field.restart %}
            <div class="dropzone-hint">{{ t('restart_required') }}</div>
          {% endif %}
        </div>
      {% endfor %}
      <button type="submit">{{ t('save_settings') }}</button>
    </form>
  </div>
{% endblock %}
