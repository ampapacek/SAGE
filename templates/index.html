{% extends "base.html" %}

{% block content %}
  <style>
    .hero {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
      padding: 24px;
      border-radius: 14px;
      background: linear-gradient(135deg, var(--card), rgba(27, 110, 243, 0.12));
      border: 1px solid var(--border);
    }
    .hero-eyebrow {
      text-transform: uppercase;
      letter-spacing: 0.16em;
      font-size: 12px;
      font-weight: 700;
      color: var(--muted);
      margin-bottom: 12px;
      font-family: "Trebuchet MS", "Gill Sans", "Optima", sans-serif;
    }
    .hero-title {
      font-size: clamp(28px, 3.5vw, 44px);
      line-height: 1.05;
      margin: 0 0 12px;
      font-family: "Trebuchet MS", "Gill Sans", "Optima", sans-serif;
    }
    .hero-subtitle {
      font-size: 16px;
      color: var(--muted);
      margin: 0 0 18px;
      max-width: 520px;
    }
    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 16px;
    }
    .hero-action {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .btn span {
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    .btn-icon {
      width: 18px;
      height: 18px;
    }
    .btn-text {
      font-size: 12px;
      color: var(--muted);
      margin: 0;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 16px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      border: 1px solid transparent;
    }
    .btn.primary {
      background: var(--accent);
      color: #fff;
    }
    .btn.ghost {
      background: transparent;
      color: var(--text);
      border-color: var(--border);
    }
    .hero-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .hero-chip {
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      color: var(--muted);
      background: var(--card);
    }
    .hero-visual {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 220px;
    }
    .hero-halo {
      position: absolute;
      width: 180px;
      height: 180px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(27, 110, 243, 0.35), transparent 70%);
      filter: blur(2px);
    }
    .hero-logo-large {
      width: 300px;
      height: 300px;
      object-fit: contain;
      position: relative;
      z-index: 1;
    }
    .section-title {
      font-size: 20px;
      margin: 0 0 12px;
      font-family: "Trebuchet MS", "Gill Sans", "Optima", sans-serif;
    }
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
    }
    .feature-card {
      padding: 16px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--card);
    }
    .feature-title {
      font-weight: 700;
      margin: 0 0 8px;
    }
    .feature-text {
      color: var(--muted);
      margin: 0;
    }
    .steps {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      counter-reset: step;
    }
    .step-card {
      border: 1px dashed var(--border);
      border-radius: 10px;
      padding: 14px;
      background: var(--card);
      line-height: 1.5;
    }
    .step-card::before {
      counter-increment: step;
      content: "Step " counter(step);
      display: inline-block;
      font-size: 12px;
      font-weight: 700;
      color: var(--muted);
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }
    .step-card span {
      display: block;
      margin-top: 8px;
    }
    .step-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .step-item {
      display: grid;
      grid-template-columns: minmax(200px, 1fr) minmax(200px, 1.2fr);
      gap: 16px;
      align-items: center;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      background: var(--card);
    }
    .step-item img {
      width: 100%;
      max-height: 260px;
      object-fit: cover;
      border-radius: 10px;
      border: 1px solid var(--border);
    }
    .step-pair {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
    }
    .step-pair img {
      max-height: 220px;
    }
    .step-item h3 {
      margin: 0 0 6px;
      font-size: 18px;
    }
    .step-item p {
      margin: 0;
      color: var(--muted);
    }
    @media (max-width: 760px) {
      .step-item {
        grid-template-columns: 1fr;
      }
    }
    .icon-strip {
      display: flex;
      flex-direction: column;
      gap: 12px;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px;
      background: var(--card);
    }
    .icon-strip-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 8px 10px;
      border-radius: 10px;
      background: rgba(0, 0, 0, 0.03);
    }
    .icon-strip-item img {
      width: 70px;
      height: 70px;
      object-fit: cover;
    }
    .icon-strip-item img.flag-icon {
      border-radius: 50%;
      width: 30px;
      height: 30px;
    }
    .icon-strip-icons {
      display: flex;
      gap: 6px;
      align-items: center;
    }
    .icon-strip-text {
      color: var(--muted);
      font-size: 13px;
    }
  </style>

  <section class="hero">
    <div>
      <div class="hero-eyebrow">SAGE</div>
      <h1 class="hero-title">Automated grading that feels rigorous, not rushed.</h1>
      <p class="hero-subtitle">
        A grading workspace for assignments, submissions, and AI-assisted feedback that
        helps teachers move faster while staying in control.
      </p>
      <div class="hero-actions">
        <div class="hero-action">
          <a class="btn primary" href="{{ url_for('list_assignments') }}">
            <span>
              <img class="btn-icon" src="{{ url_for('static', filename='images/assignments.png') }}" alt="" aria-hidden="true" />
              {{ t('open_assignments') }}
            </span>
          </a>
          <p class="btn-text">Manage assignments, grading guides, and submissions.</p>
        </div>
        <div class="hero-action">
          <a class="btn ghost" href="#quick-start">
            <span>
              <img class="btn-icon" src="{{ url_for('static', filename='images/quickstart.png') }}" alt="" aria-hidden="true" />
              {{ t('quick_start') }}
            </span>
          </a>
          <p class="btn-text">Jump to a step-by-step walkthrough below.</p>
        </div>
      </div>
      <div class="hero-chips">
        <span class="hero-chip">LLM-guided feedback</span>
        <span class="hero-chip">PDF + image + text</span>
        <span class="hero-chip">ZIP uploads supported</span>
      </div>
    </div>
    <div class="hero-visual">
      <div class="hero-halo" aria-hidden="true"></div>
      <img src="{{ url_for('static', filename='images/sage.png') }}" alt="" aria-hidden="true" class="hero-logo-large" />
    </div>
  </section>

  <div class="card" style="margin-top: 18px;">
    <h2 class="section-title">{{ t('why_sage') }}</h2>
    <div class="feature-grid">
      <div class="feature-card">
        <h3 class="feature-title">{{ t('structured_evaluation') }}</h3>
        <p class="feature-text">Use grading guides with part-level scoring and clear deductions.</p>
      </div>
      <div class="feature-card">
        <h3 class="feature-title">{{ t('flexible_formats') }}</h3>
        <p class="feature-text">Support PDFs, images, and text, plus ZIP uploads for whole classes.</p>
      </div>
      <div class="feature-card">
        <h3 class="feature-title">{{ t('traceable_output') }}</h3>
        <p class="feature-text">Get JSON, readable feedback, and exportable CSV results.</p>
      </div>
    </div>
  </div>

  <div id="quick-start" class="card">
    <h2 class="section-title">{{ t('quick_start') }}</h2>
    <div class="steps">
      <div class="step-card"><span>Create an assignment with the prompt or problem statement.</span></div>
      <div class="step-card"><span>Create or generate a draft grading guide and approve it.</span></div>
      <div class="step-card"><span>Upload submissions (PDFs, images, or text).</span></div>
      <div class="step-card"><span>Review automated results and export grades.</span></div>
    </div>
  </div>

  <div class="card">
    <h2 class="section-title">{{ t('top_bar_icons') }}</h2>
    <div class="icon-strip">
      <div class="icon-strip-item">
        <img src="{{ url_for('static', filename='images/sage.png') }}" alt="SAGE logo" />
        <div>
          <strong>{{ t('sage_home') }}</strong>
          <div class="icon-strip-text">Click the SAGE logo in the header to return here.</div>
        </div>
      </div>
      <div class="icon-strip-item">
        <img src="{{ url_for('static', filename='images/settings.png') }}" alt="Settings icon" />
        <div>
          <strong>{{ t('settings') }}</strong>
          <div class="icon-strip-text">Update API keys, model defaults, and limits.</div>
        </div>
      </div>
      <div class="icon-strip-item">
        <div class="icon-strip-icons">
          <img class="flag-icon" src="{{ url_for('static', filename='images/flag-us.png') }}" alt="English flag icon" />
          <img class="flag-icon" src="{{ url_for('static', filename='images/flag-cz.png') }}" alt="Czech flag icon" />
        </div>
        <div>
          <strong>{{ t('language_currency') }}</strong>
          <div class="icon-strip-text">Switch between English and Czech currency display.</div>
        </div>
      </div>
      <div class="icon-strip-item">
        <div class="icon-strip-icons">
          <img src="{{ url_for('static', filename='images/sun.png') }}" alt="Light mode icon" />
          <img src="{{ url_for('static', filename='images/moon.png') }}" alt="Dark mode icon" />
        </div>
        <div>
          <strong>{{ t('theme') }}</strong>
          <div class="icon-strip-text">Toggle light or dark mode.</div>
        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <h2 class="section-title">{{ t('quick_start_walkthrough') }}</h2>
    <div class="step-list">
      <div class="step-item">
        <div>
          <h3>Step 1 — Create an assignment</h3>
          <p>Add the assignment title and problem statement to start a new grading run.</p>
        </div>
        <img src="{{ url_for('static', filename='images/quickstart-1.png') }}" alt="Create assignment screen" />
      </div>
      <div class="step-item">
        <div>
          <h3>Step 2 — Build a grading guide</h3>
          <p>Create a guide manually or generate a draft with the model, then approve it.</p>
        </div>
        <img src="{{ url_for('static', filename='images/quickstart-2.png') }}" alt="Grading guide creation screen" />
      </div>
      <div class="step-item">
        <div>
          <h3>Step 2a — Guide examples</h3>
          <p>See an example grading guide alongside the reference solution.</p>
        </div>
        <div class="step-pair">
          <img src="{{ url_for('static', filename='images/guide-example.png') }}" alt="Example grading guide" />
          <img src="{{ url_for('static', filename='images/reference-solution.png') }}" alt="Example reference solution" />
        </div>
      </div>
      <div class="step-item">
        <div>
          <h3>Step 3 — Upload submissions</h3>
          <p>Upload PDFs, images, or text files. ZIPs with all students are supported.</p>
        </div>
        <img src="{{ url_for('static', filename='images/quickstart-3.png') }}" alt="Submission upload screen" />
      </div>
      <div class="step-item">
        <div>
          <h3>Step 4 — Review results</h3>
          <p>Inspect the feedback and export grades after instructor review.</p>
        </div>
        <img src="{{ url_for('static', filename='images/quickstart-4.png') }}" alt="Results and export screen" />
      </div>
      <div class="step-item">
        <div>
          <h3>Step 4a — Detailed submission view</h3>
          <p>Open individual submissions to see detailed feedback and annotated results.</p>
        </div>
        <div class="step-pair">
          <img src="{{ url_for('static', filename='images/submission-detail-1.png') }}" alt="Submission detail view" />
          <img src="{{ url_for('static', filename='images/submission-detail-2.png') }}" alt="Submission detail feedback" />
        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <h2 class="section-title">{{ t('responsible_use') }}</h2>
    <p class="feature-text">
      SAGE is intended to speed up grading and support teacher review. All grading guides,
      outputs, and final grades must be verified by the instructor before release.
      Do not issue grades based only on model output.
    </p>
    <p class="feature-text" style="margin-top: 10px;">
      Confirm with students and your department, school, or university that this tool is permitted
      for use. Student data is private and should be handled accordingly.
    </p>
  </div>
{% endblock %}
